sbpro-dashboard-head-compact(
    title='Account Settings - Profile',
    icon='user'
)

// Main page content
.container-xl.px-4.mt-4
    // Account page navigation
    nav.nav.nav-borders
        a.nav-link.active(routerLink='/dashboard/account/profile') Profile
        a.nav-link(routerLink='/dashboard/account/files') Files
        a.nav-link(routerLink='/dashboard/account/security') Security
        a.nav-link(routerLink='/dashboard/account/notifications') Notifications
    hr.mt-0.mb-4
    .row.gx-4
        .col-xl-4
            // Profile picture card
            .card.mb-4
                .card-header Profile Picture
                .card-body.text-center
                    // Profile picture image
                    img.img-account-profile.rounded-circle.mb-2([src]='this.account.image_path', alt='') 
                    // Profile picture help block
                    .small.font-italic.text-muted.mb-4 JPG no larger than 5 MB
                    // Profile picture upload button
                    button.btn.btn-primary(type='button') Upload new image

        .col-xl-8
            // Account details card
            .card.mb-4
                .card-header Account Details
                .card-body
                    form((ngSubmit)='submit()')

                        .mb-3(*ngIf='alert')
                            .alert.alert-danger(role='alert') {{ alert_message }}

                        // Form Group (username)
                        .mb-3
                            label.small.mb-1(for='inputUsername') Username 
                            input#inputUsername.form-control(disabled, type='text', placeholder='Enter your username', value='username', name='username', [(ngModel)]='this.account.username')
                        
                        // Form Row
                        .row
                            // Form Group (first name)
                            .mb-3.col-md-6
                                label.small.mb-1(for='inputFirstName') First Name 
                                    span.badge.bg-red required
                                input#inputFirstName.form-control(type='text', placeholder='Enter your first name', name='first_name', [(ngModel)]='this.account.first_name')
                            // Form Group (last name)
                            .mb-3.col-md-6
                                label.small.mb-1(for='inputLastName') Last Name 
                                    span.badge.bg-red required
                                input#inputLastName.form-control(type='text', placeholder='Enter your last name', name='last_name', [(ngModel)]='this.account.last_name')
                        
                        // Form Row
                        .row
                            // Form Group (email address)
                            .mb-3.col-md-6
                                label.small.mb-1(for='inputEmailAddress') Email Address 
                                input#inputEmailAddress.form-control(disabled, type='email', placeholder='Enter your email address', name='email_address', [(ngModel)]='this.account.email_address')
                            // Form Group (date of birth)
                            .mb-3.col-md-6
                                label.small.mb-1(for='inputBirthday') Date of Birth 
                                    span.badge.bg-red required
                                input#inputBirthday.form-control(type='date', name='date_of_birth', [(ngModel)]='this.account.date_of_birth')
                        
                        // Form Row
                        .row
                            // Form Group (contact number)
                            .mb-3.col-md-6
                                label.small.mb-1(for='inputContactNumber') Contact Number 
                                    span.badge.bg-red required
                                input#inputContactNumber.form-control(type='number', placeholder='Enter your contact number', name='contact_number', [(ngModel)]='this.account.contact_number')
                            .mb-3.col-md-6 
                                label.small.mb-1(for='inputGender') Gender 
                                    span.badge.bg-red required
                                select#inputCountry.form-control(name='gender', [(ngModel)]='this.account.gender')
                                    option(value='') Select
                                    option(value='male') Male
                                    option(value='female') Female
                        
                        // Form Group (address 1)
                        .mb-3
                            label.small.mb-1(for='inputAddress1') Address 1 
                                span.badge.bg-red required
                            input#inputAddress1.form-control(type='text', placeholder='Enter your address 1', name='address_1', [(ngModel)]='this.account.address_1')
                        
                        // Form Group (address 2)
                        .mb-3
                            label.small.mb-1(for='inputAddress2') Address 2 
                            input#inputAddress2.form-control(type='text', placeholder='Enter your address 2', name='address_2', [(ngModel)]='this.account.address_2')
                        
                        // Form Row
                        .row
                            // Form Group (country)
                            .mb-3.col-md-6
                                label.small.mb-1(for='inputCountry') Country 
                                    span.badge.bg-red required
                                select#inputCountry.form-control(name='country_name', [(ngModel)]='this.account.country_code')
                                    option(value='') Select
                                    option(*ngFor='let cList of country_list', value='{{ cList.iso_code }}') {{ cList.country_name }}
                            // Form Group (nationality)
                            .mb-3.col-md-6
                                label.small.mb-1(for='inputNationality') Nationality 
                                input#inputNationality.form-control(type='text', placeholder='Enter your nationality', name='nationality', [(ngModel)]='this.account.nationality')
                                
                        // Save changes button
                        button.btn.btn-primary(type='submit') Submit

ng-template(#confirmationModal, let-modal)
    .modal-header
        h5.modal-title Profile Data - Save Confirmation
        button.btn-close(
            type='button',
            aria-label='Close',
            (click)='modal.dismiss("Cross click")'
        )
            span(aria-hidden='true') ×
    .modal-body.
        Are you sure you want to save the following details?
        <br><br>
        First Name: <code>{{account.first_name}}</code><br />
        Last Name: <code>{{account.last_name}}</code><br />
        Date of Birth: <code>{{account.date_of_birth}}</code><br />
        Contact Number: <code>{{account.contact_number}}</code><br />
        Gender: <code>{{account.gender}}</code><br />
        Address 1: <code>{{account.address_1}}</code><br />
        Address 2: <code>{{account.address_2}}</code><br />
        Country: <code>{{account.country_code}}</code><br />
        Nationality: <code>{{account.nationality}}</code><br />
    .modal-footer
        button.btn.btn-secondary(
            type='button',
            (click)='modal.close("CANCEL")'
        ) Cancel
        button.btn.btn-primary(
            type='button',
            (click)='modal.close("SAVE")'
        ) Save Changes

ng-template(#notificationModal, let-modal)
    .modal-header
        h5.modal-title Profile Data
        button.btn-close(
            type='button',
            aria-label='Close',
            (click)='modal.dismiss("Cross click")'
        )
            span(aria-hidden='true') ×
    .modal-body.
        Account Details has been successfully saved!