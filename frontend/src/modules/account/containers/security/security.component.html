<sbpro-dashboard-head-compact title="Account Settings - Security" icon="user"></sbpro-dashboard-head-compact
><!-- Main page content-->
<div class="container-xl px-4 mt-4">
    <!-- Account page navigation-->
    <nav class="nav nav-borders"><a class="nav-link" routerLink="/dashboard/account/profile">Profile</a><a class="nav-link" routerLink="/dashboard/account/files">Files</a><a class="nav-link active" routerLink="/dashboard/account/security">Security</a><a class="nav-link" routerLink="/dashboard/account/notifications">Notifications</a></nav>
    <hr class="mt-0 mb-4" />
    <div class="row gx-4">
        <div class="col-lg-12">
            <!-- Change password card-->
            <div class="card mb-4">
                <div class="card-header">Change Password</div>
                <div class="card-body">
                    <form [formGroup]="securityForm" (ngSubmit)="onSubmit()">
                        <!-- Form Group (new password)-->
                        <div class="mb-3">
                            <label class="small mb-1" for="inputPassword">New Password</label><input class="form-control" id="inputPassword" data-cy="passwordInput" type="password" placeholder="Enter new password" formControlName="newPassword" [class.is-valid]="newPasswordControlValid" [class.is-invalid]="newPasswordControlInvalid" />
                            <div class="valid-feedback">Looks good!</div>
                            <div class="invalid-feedback" *ngIf='newPasswordControl.hasError("required")'>New Password required.</div>
                            <div class="invalid-feedback" *ngIf='newPasswordControl.hasError("minlength")'>Password must be at least 12 characters.</div>
                        </div>
                        <!-- Form Group (confirm password)-->
                        <div class="mb-3">
                            <label class="small mb-1" for="inputConfirmPassword">Confirm New Password</label><input class="form-control" id="inputConfirmPassword" data-cy="confirmPasswordInput" type="password" placeholder="Confirm password" formControlName="confirmPassword" [class.is-valid]="confirmPasswordControlValid" [class.is-invalid]="confirmPasswordControlInvalid" />
                            <div class="valid-feedback">Looks good!</div>
                            <div class="invalid-feedback" *ngIf='confirmPasswordControl.hasError("required")'>Confirm Password required.</div>
                            <div class="invalid-feedback" *ngIf='securityForm.hasError("passwordMismatch")'>Passwords do not match.</div>
                        </div>
                        <button class="btn btn-primary" type="submit" [disabled]="securityForm.invalid">Save</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<ng-template #notificationModal let-modal
    ><div class="modal-header">
        <h5 class="modal-title">Password Update</h5>
        <button class="btn-close" type="button" aria-label="Close" (click)='modal.dismiss("Cross click")'><span aria-hidden="true">Ã—</span></button>
    </div>
    <div class="modal-body">You're password has been successfully updated! Do you want to relogin, again?</div>
    <div class="modal-footer"><button class="btn btn-secondary" type="button" (click)="modal.close()">Cancel</button><button class="btn btn-primary" type="button" (click)='modal.close("RELOGIN")'>Re Login</button></div></ng-template
>
